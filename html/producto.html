<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Detalle del Producto</title>
  <link rel="stylesheet" href="..\css\style_producto.css">
</head>
<body>
  <!-- barra superior-->
   <header>
        <div class="header-content">
            <div class="logo">
                <img src="logo_1.png" alt="Logo">
            </div>
            <nav>
                <ul>
                    <li><a href="home.html">Home</a></li>
                    <li><a href="catalogo_productos.html">Productos</a></li>
                    <li><a href="nosotros.html">Nosotros</a></li>
                    <li><a href="blogs.html">Blogs</a></li>
                    <li><a href="contacto.html">Contacto</a></li>
                </ul>
            </nav>
            <div class="login-carrito">
                <a href="../html/inicio_sesion.html">Iniciar Sesi√≥n</a>
                    <div class="carrito">
                        <span class="carrito-icon">üõí</span>
                        <span class="carrito-count">0</span>
                    </div>
            </div>
        </div>
        <!-- Modal del carrito -->
        <div id="modal-carrito" class="modal-carrito">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Carrito de Compras</h2>
                <ul id="carrito-lista"></ul>
                <p id="carrito-total"></p>
            </div>
        </div>
    </header>
    
  <!--Producto-->
  <div id="producto-detalle" class="detalle-container"></div>

  <!-- invocando producto-->
  <script src="..\js\productos.js"></script>

  <!--Barra inferior-->
    <footer>
      <div class="footer-content">
        <div class="footer-section productos-footer">
          <h3>Premiados en 2024</h3>
          <ul>
            <li><a href="producto.html?id=2">Perfume Dulce</a></li>
            <li><a href="producto.html?id=6">Perfume Amaderado</a></li>
            <li><a href="producto.html?id=1">Perfume C√≠trico</a></li>
          </ul>
        </div>
        <div class="footer-section info-footer">
          <h3>Sobre Nosotros</h3>
          <p>
            Perfumes Sahur ofrece las mejores fragancias importadas y nacionales,
            con env√≠o a todo el pa√≠s y atenci√≥n personalizada para cada cliente.
          </p>
        </div>
        <div class="footer-section contacto-footer">
          <h3>Contacto</h3>
          <p>Email: contacto@perfumesahur.com</p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 Perfumes Sahur. Todos los derechos reservados.</p>
      </div>
    </footer>
  <!--Script para mostrar el producto seleccionado-->  
  <script src="../js/productos.js"></script>
  <script src="../js/carrito.js"></script>
  <script>
    const params = new URLSearchParams(window.location.search);
    const id = parseInt(params.get('id'), 10);
    const producto = productos.find(p => p.id === id);

    const detalle = document.getElementById('producto-detalle');
    if (producto) {
      detalle.innerHTML = `
        <div class="detalle-producto">
          <div class="detalle-imagen">
            <img src="${producto.imagen}" alt="${producto.nombre}">
          </div>
          <div class="detalle-info">
            <h2>${producto.nombre}</h2>
            <p class="detalle-precio">Precio: $${producto.precio}</p>
            <p class="detalle-descripcion">${producto.descripcion}</p>
            <button id="btn-comprar-detalle">Comprar</button>
          </div>
        </div>
      `;
      const btnDetalle = document.getElementById('btn-comprar-detalle');
      btnDetalle.addEventListener('click', () => {
        carrito.push(producto); // reutiliza el carrito global
        carritoCount.textContent = carrito.length;
        alert(`${producto.nombre} agregado al carrito`);
        localStorage.setItem('carrito', JSON.stringify(carrito));
      });
    } else {
      detalle.textContent = 'Producto no encontrado.';
    }
  </script>

  <script>
    const container = document.getElementById('productos-container');
    agregarListenerCarrito(productos.slice(0,12));
  </script>
  
</body>
</html>
